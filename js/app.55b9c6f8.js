(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],l=0,p=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},i=[];function r(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-2d0bac9d":"ff416426"}[t]+".js"}function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=s[t]=[e,n]}));e.push(a[2]=n);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=r(t);var u=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(l);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,a[1](u)}s[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vue-test/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=u;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},5245:function(t,e,a){"use strict";var n=a("8913"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=a("5f5b"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],o=a("2877"),c={},u=Object(o["a"])(c,i,r,!1,null,null,null),l=u.exports,d=(a("d3b7"),a("8c4f")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"container-wrapper"},[a("h4",{staticClass:"mt-4"},[t._v("Tasks")]),a("CreateTask",{on:{"task-submitted":t.createTask}}),t.$store.state.loading?a("Loader"):t.tasks.length?a("ul",{staticClass:"list-group mb-3"},t._l(t.tasks,(function(e){return a("TodoItem",{key:e.id,attrs:{task:e},on:{"task-removed":t.removeTask,"task-checked":t.checkTask,"task-edited":t.editTask}})})),1):a("div",[t._v("No tasks")]),a("Pagination",{attrs:{tasksTotal:t.$store.state.tasks.length,currentPage:t.$store.state.pageNumber,tasksPerPage:t.$store.state.tasksPerPage},on:{"page-selected":t.updatePage}})],1)},f=[],m=(a("e25e"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control shadow-none",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),a("div",{staticClass:"input-group-append",on:{click:t.onClickCreate}},[a("button",{staticClass:"btn btn-primary mb-2",attrs:{type:"submit"}},[t._v(" Add task ")])])])}),k=[],h=(a("498a"),{data:function(){return{title:""}},methods:{onClickCreate:function(){this.title.trim()&&(this.$emit("task-submitted",this.title),this.title="")}}}),g=h,v=Object(o["a"])(g,m,k,!1,null,null,null),b=v.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"list-group-item list-item_container"},[a("div",{staticClass:"list-item_title",class:{completed:t.task.completed}},[a("input",{attrs:{type:"checkbox"},domProps:{checked:t.task.completed},on:{change:function(e){return t.$emit("task-checked",{id:t.task.id,completed:!t.task.completed,title:t.task.title})}}}),t._v(" "+t._s(t.task.title)+" ")]),a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-outline-warning btn-sm",attrs:{type:"button"},on:{click:function(e){return t.$emit("task-edited",t.task.id)}}},[t._v(" Edit ")]),a("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.$emit("task-removed",t.task.id)}}},[t._v(" Delete ")])])])},T=[],y={props:{task:{type:Object,required:!0}}},_=y,w=(a("5245"),Object(o["a"])(_,P,T,!1,null,"6573f542",null)),C=w.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.totalPages>1?a("nav",[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:!t.showPreviousLink}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.updatePage(t.currentPage-1)}}},[t._v(" Previous ")])]),a("li",{staticClass:"page-item",class:{disabled:!t.showNextLink}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.updatePage(t.currentPage+1)}}},[t._v(" Next ")])])])]):t._e()},j=[],x=(a("a9e3"),{props:{tasksTotal:{type:Number,required:!0},currentPage:{type:Number,required:!0},tasksPerPage:{type:Number,required:!0}},computed:{totalPages:function(){return Math.ceil(this.tasksTotal/this.tasksPerPage)},showPreviousLink:function(){return this.currentPage>1},showNextLink:function(){return this.currentPage<this.totalPages}},methods:{updatePage:function(t){this.$emit("page-selected",t)}}}),O=x,S=Object(o["a"])(O,$,j,!1,null,null,null),L=S.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sbl-circ-path mx-auto my-2"})},E=[],D=(a("74ae"),{}),I=Object(o["a"])(D,N,E,!1,null,null,null),M=I.exports,q={name:"List",computed:{tasks:function(){return this.$store.getters.visibleTasks}},created:function(){var t=this;this.$store.dispatch("fetchTasks").then((function(){t.updatePage(parseInt(t.$route.params.page,10)||1)}))},methods:{createTask:function(t){var e=this;this.$store.dispatch("createTask",t).then((function(){e.updatePage(1)}))},removeTask:function(t){this.$store.dispatch("deleteTask",t)},checkTask:function(t){var e=t.id,a=t.completed,n=t.title;this.$store.dispatch("updateTask",{id:e,completed:a,title:n})},editTask:function(t){this.$router.push("/edit-to-do/".concat(t))},updatePage:function(t){var e=this;this.$store.dispatch("changePage",t).then((function(){e.$route.params.page!==String(t)&&e.$router.push("/page/".concat(e.$store.state.pageNumber))}))}},components:{CreateTask:b,TodoItem:C,Pagination:L,Loader:M}},A=q,J=(a("ebb3"),Object(o["a"])(A,p,f,!1,null,null,null)),K=J.exports;n["default"].use(d["a"]);var z=[{path:"/",name:"toDoList",component:K},{path:"/page/:page",name:"toDoListPage",component:K},{path:"/edit-to-do/:id",name:"toDoItem",component:function(){return a.e("chunk-2d0bac9d").then(a.bind(null,"3967"))}}],B=new d["a"]({mode:"history",base:"/vue-test/",routes:z}),U=B,X=(a("7db0"),a("c740"),a("4160"),a("fb6a"),a("45fc"),a("4e82"),a("a434"),a("0d03"),a("159b"),a("2f62")),F=a("59ca"),G=a.n(F),R=(a("e71f"),G.a.initializeApp({apiKey:"AIzaSyDPwbXpSSYDeptyCOnKAokUMp4SBiDKmyk",authDomain:"vue-tasks-15459.firebaseapp.com",databaseURL:"https://vue-tasks-15459.firebaseio.com",projectId:"vue-tasks-15459",storageBucket:"vue-tasks-15459.appspot.com",messagingSenderId:"1091298971095",appId:"1:1091298971095:web:28cd32e5a7effd42584f92",measurementId:"G-JM5W1X3SFL"})),W=R.firestore(),Y=W;n["default"].use(X["a"]);var H=new X["a"].Store({state:{tasks:[],loading:!0,tasksPerPage:5,pageNumber:1},getters:{visibleTasks:function(t){var e=t.tasks.slice().sort((function(t,e){return e.timestampSeconds-t.timestampSeconds})),a=(t.pageNumber-1)*t.tasksPerPage;return e.slice(a,a+t.tasksPerPage)},getTask:function(t){return function(e){return t.tasks.find((function(t){return t.id===e}))||!1}},getTaskTotal:function(t){return t.tasks.length}},mutations:{fetchTasks:function(t,e){t.tasks=e},updateLoading:function(t,e){t.loading=e},createTask:function(t,e){t.tasks.push({id:e.id,title:e.title,completed:!1,timestampSeconds:e.timestampSeconds})},deleteTask:function(t,e){var a=t.tasks.findIndex((function(t){return t.id===e}));a>=0&&t.tasks.splice(a,1)},updateTask:function(t,e){t.tasks.some((function(t){if(t.id===e.id)return t.title=e.title,t.completed=e.completed,!0}))},changePage:function(t,e){t.pageNumber=e}},actions:{fetchTasks:function(t){var e=t.commit;e("updateLoading",!0),Y.collection("tasks").get().then((function(t){var a=[];t.forEach((function(t){var e=t.data();a.push({id:t.id,title:e.title,completed:e.completed,timestampSeconds:e.timestamp.seconds})})),e("fetchTasks",a),e("updateLoading",!1)}))},createTask:function(t,e){var a=t.commit;Y.collection("tasks").add({title:e,completed:!1,timestamp:new Date}).then((function(t){a("createTask",{id:t.id,title:e,completed:!1,timestampSeconds:Date.now()})}))},deleteTask:function(t,e){var a=t.commit;Y.collection("tasks").doc(e).delete().then((function(){a("deleteTask",e)}))},updateTask:function(t,e){var a=t.commit;Y.collection("tasks").doc(e.id).set({title:e.title,completed:e.completed},{merge:!0}).then((function(){a("updateTask",e)}))},changePage:function(t,e){var a=t.commit;e>1&&0===this.getters.visibleTasks.length&&(e=Math.ceil(this.state.tasks.length/this.state.tasksPerPage)),a("changePage",e)}}});a("f9e3"),a("2dd8");n["default"].config.productionTip=!1,n["default"].use(s["a"]),new n["default"]({router:U,store:H,render:function(t){return t(l)}}).$mount("#app")},"74ae":function(t,e,a){"use strict";var n=a("b4ad"),s=a.n(n);s.a},7547:function(t,e,a){},8913:function(t,e,a){},b4ad:function(t,e,a){},ebb3:function(t,e,a){"use strict";var n=a("7547"),s=a.n(n);s.a}});
//# sourceMappingURL=app.55b9c6f8.js.map